<html>
  <head>
    <script language="javascript" type="text/javascript" src="directory.js" defer></script>
    <script language="javascript" type="text/javascript">
      // Global Variables
      var character = [];

      // Debug Functions
      function alert(message) { document.getElementById("alertBox").innerHTML = message; }

      // Data Functions
      function loadCharacters()
      {
        var output = "";
        {{foreach $record as $character}}
          output += {$character_full_name};
          output += {$character=>character_full_name};//Note the equal sign in the pipe.
          output += {$character->character_full_name};//Note the minus sign in the pipe.
          output += {$character=>customFieldDisplayByKey('character_full_name', 'listing')};
          output += {$character->customFieldDisplayByKey('character_full_name', 'listing')};
          output += {$character->customFieldDisplayByKey('character_full_name', 'display')};
          //{$character->customFieldDisplayByKey('character_full_name', 'listing')|raw} //character.push(\{"fullName":"{$character_full_name}","firstName":"{$character_first_name}","lastName":"{$character_last_name}","animal":"{$character_animal}","ethics":"{$character_ethics}","morals":"{$character_morals}"\});
        {{endforeach}}
        //document.write(character.join(", "));
        alert(output);
      }
    </script>
    <link rel="stylesheet" type="text/css" href="directory.css">
    <link rel='shortcut icon' href='http://www.bnfworld.com/uploads/monthly_2016_08/bnflogo.ico.71a1cdda7438caa46759e88fd84013eb.ico'>
  </head>
  <body>
    <div id="profiles" class="body" onclick="">
      <input id="dataURLBox" type="text" value="api/cms/records/bnf_characters" />
      <input type="button" onclick="loadDirectory()" value="Load Directory" />
    </div>
    <div id="alerts" class="alerts" onclick="loadCharacters()">
      <textarea id="alertBox" class="alertText"></textarea>
    </div>
  </body>
</html>
